<!DOCTYPE html>
<html lang="fr">
<head>
	<title>Remboursement de frais - CNESST</title>
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
	<!-- <link rel="stylesheet" href="http://instynctdemo.com/cnesst/js/bootstrap-reboot.min.css"> -->
	<link rel="stylesheet" href="http://instynctdemo.com/cnesst/js/bootstrap-grid.min.css">
	<link rel="stylesheet" type="text/css" href="http://instynctdemo.com/cnesst/css/components.scss?compile=true">
	<link rel="stylesheet" type="text/css" href="http://instynctdemo.com/cnesst/css/styleguide.css">
<!-- test -->
<link rel="stylesheet" type="text/css" href="style.css">
	<link rel="stylesheet" href="http://instynctdemo.com/cnesst/js/dp/bootstrap-datepicker.standalone.min.css">
	<link rel="stylesheet" type="text/css" href="http://instynctdemo.com/cnesst/js/jquery.qtip.min.css">
</head>
<body>
	<header class="container header-v1" aria-labelledby="naHeader">
		<div class="row no-gutters">
			<div class="col-auto">
				<div class="logo">

					<img alt="CNESST" src="http://instynctdemo.com/cnesst/images/logo.png">
				</div>
			</div>
		    <div class="col align-self-end">
		    	<nav class="top-menu">
		    		<ul>
		    			<li>
			    			<a href="../index.html">
			    				<img alt="" src="http://instynctdemo.com/cnesst/images/icone-cnesst-icone-connexion.png">
			    				<p>Me déconnecter</p>
			    			</a>
		    			</li>
		    		</ul>
		    	</nav>
		    </div>
		</div>
		<div class="no-menu">
			<h1 role="presentation" id="naHeader">Demande de remboursement de frais</h1>
		</div>
	</header>

	<main class="container">

		<div class="strong">

			<div class="mcl2">
				<p><span class="rft">*</span> Obligatoire</p>
				<div class="text sp-s">

				</div>
				<div class="form-cont">

					<div class="content" role="group" aria-labelledby="nag1">
          <p id="nag1"><span class="rft">*</span> Que voulez-vous faire ?</p>



							<label class="radiobutton">
							   <input data-hide=".os-1" data-show=".os-1-1" type="radio" name="mode">
							   <i>Demande de remboursement de frais de déplacements, d'hébergement, de repas.</i>
							</label>

							<label class="radiobutton">
							   <input data-hide=".os-1" data-show=".os-1-2" type="radio" name="mode">
							   <i>Demande de remboursement de frais de médicaments, de vêtements ou autre frais.</i>
							</label>

							<label class="radiobutton">
							   <input data-hide=".os-1" data-show=".os-1-3" type="radio" name="mode">
							   <i>Récupérer une demande de remboursement de frais déjà débuté (c'est un brouillon)</i>
							</label>

							<div class="box2 hide os-1 os-1-3">
								<div class="text">
									<p class="note"><strong>Note:</strong> Vous devez avoir votre code de récupération et votre adresse courriel.</p>
								</div>
							</div>


						<br>
						<div class="btns3">
							<a class="btn btn3 hide os-1 os-1-1" href="h/index.html">Accéder au service H</a>
							<a class="btn btn3 hide os-1 os-1-2" href="m/index.html">Accéder au service M</a>
							<a class="btn btn3 hide os-1 os-1-3" href="#">Récupérer un brouillon</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</main>

	<footer class="container footer">
		<div class="row no-gutters">
			<div class="col">
				<ul class="footer-menu">
					<li><a href="#">Accessibilité</a></li>
					<li><a href="#">Politique de confidentialité</a></li>
				</ul>
			</div>
			<div class="col right">
				<span>Renseignements généraux : </span>
				<span><a href="tel:18448380808">1 844 838-0808</a></span>
				<img alt="CNESST" src="http://instynctdemo.com/cnesst/images/logo_footer.png">
			</div>
		</div>
		<div class="row no-gutters bottom">
			&copy; CNESST, 2017
		</div>

	</footer>





	<script src="http://instynctdemo.com/cnesst/js/jquery.min.js"></script>
	<script src="http://instynctdemo.com/cnesst/js/dp/bootstrap-datepicker.min.js"></script>
	<script src="http://instynctdemo.com/cnesst/js/dp/bootstrap-datepicker.fr.min.js"></script>
	<script src="http://instynctdemo.com/cnesst/js/jquery.qtip.min.js"></script>

	<script>
		$(document).ready(function() {

			$('body').on('focus',".datepicker", function(){

			    if( $(this).hasClass('hasDatepicker') === false )  {
			        $(this).addClass('hasDatepicker').datepicker({
						format: "yyyy-mm-dd",
		    			language: 'fr'
					});
			    }

			});

			$('body').on('change', '[type="file"]', function() {

		        var filename = $(this).val();
		        var $file = $(this).parents('.file');

		        if (filename.length == 0){
		        	$file.removeClass('active');
		        }else{
		        	$file.addClass('active');
		        }
		        $file.find('.detail span').html(filename);

		    }).on('click', function(event) {
		    	event.stopPropagation();
		    });;


			$('body').on('click', '.file .file-btn', function(event) {
				event.preventDefault();
		        var $file = $(this).parents('.file');

				$file.find('[type="file"]').trigger('click');

			});

			$('body').on('click', '.file .btn-remove', function(event) {
				event.preventDefault();

				$(this).parents('.file').removeClass('active').find('[type="file"]').val('');

			});


			$('.multiblocks').on('click', '.sub-block a.btn-delete', function(event) {
				event.preventDefault();
				var $multiblocks = $(this).parents('.multiblocks').eq(0);

				$(this).parents('.sub-block').eq(0).remove();

				$multiblocks.find('> .sub-block').each(function(index, el) {
					$(this).find('> .header span.number').text(index+1);
				});
			});

			var cont = 10;

			$('body').on('click', 'a.btn-add', function(event) {
				event.preventDefault();


				var $block = $(this).data('block');

				if  ( typeof $block === "undefined" || $block == null ){
					$block = $('.block-example');
				}else{
					$block = $($block);
				}

				var html = $block.html();

				console.log(html);

				html_r = html.split('_N_').join(cont++);

				$(this).parent().prev('.multiblocks').append(html_r).find('> .sub-block').each(function(index, el) {
					$(this).find('> .header span.number').text(index+1);
				});
			});


		    $("body").on('keydown', '.amount', function (e) {
		        // Allow: backspace, delete, tab, escape, enter and .
		        if ($.inArray(e.keyCode, [46, 8, 9, 27, 13, 110, 190]) !== -1 ||
		             // Allow: Ctrl/cmd+A
		            (e.keyCode == 65 && (e.ctrlKey === true || e.metaKey === true)) ||
		             // Allow: Ctrl/cmd+C
		            (e.keyCode == 67 && (e.ctrlKey === true || e.metaKey === true)) ||
		             // Allow: Ctrl/cmd+X
		            (e.keyCode == 88 && (e.ctrlKey === true || e.metaKey === true)) ||
		             // Allow: home, end, left, right
		            (e.keyCode >= 35 && e.keyCode <= 39)) {
		                 // let it happen, don't do anything
		                 return;
		        }
		        // Ensure that it is a number and stop the keypress
		        if ((e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && (e.keyCode < 96 || e.keyCode > 105)) {
		            e.preventDefault();
		        }
		    });


		    $('[title!=""]').qtip({
		    	content: {
		    		button: true
		    	},
			    show: {
			        event: 'click',

			    },
			    hide: {
			        event: 'click'
			    }
		    });

			$('.hasTooltip').each(function() { // Notice the .each() loop, discussed below
			    $(this).qtip({
			    	content: {
			    		button: true,
			            text: $(this).next('div').html() // Use the "div" element next to this for the content
			    	},
				    show: {
				        event: 'click',

				    },
				    hide: {
				        event: 'click'
				    }
			    });
			});


		    $('body').on('click', '[data-hide]', function(event) {
		    	event.stopPropagation();

		    	$($(this).data('hide')).addClass('hide');

		    	// $($(this).data('hide')).find('input[type="radio"]').prop('checked', false);
		    	$($(this).data('hide')).each(function(index, el) {
		    		// $(el).find('input[type="radio"]').eq(0).trigger('click');
		    		$(el).find('input[type="radio"]').prop('checked', false);
		    		$(el).find('input[type="checkbox"]').prop('checked', false);
		    	});
		    });

		    $('body').on('click', '[data-show]', function(event) {
		    	event.stopPropagation();

		    	if ( typeof $(this).prop('checked') === 'undefined' || $(this).prop('checked') )
		    		$($(this).data('show')).removeClass('hide');
		    });

		    $('[data-characters!=""]').keyup(function(){
		        var text = $(this).val();
		        var maxlength = $(this).data('characters');

		        if(maxlength > 0) {
		                $(this).val(text.substr(0, maxlength));
		        }
			});

		});
	</script>

</body>
</html>
