<!DOCTYPE html>
<html lang="fr">
<head>
	<title>3 - Vêtements - Médicaments, vêtements et autres frais - Remboursement de frais - CNESST</title>
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
  <link rel="stylesheet" href="../js/bootstrap-grid.min.css">
	<link rel="stylesheet" type="text/css" href="../css/components.css">
	<link rel="stylesheet" type="text/css" href="../css/styleguide.css">
	<link rel="stylesheet" type="text/css" href="../style.css">
	<link rel="stylesheet" href="../js/dp/bootstrap-datepicker.standalone.min.css">
	<link rel="stylesheet" type="text/css" href="../js/jquery.qtip.min.css">
</head>
<body>
	<header class="container header-v1" aria-labelledby="naHeader">
		<div class="row no-gutters">
			<div class="col-auto">
				<div class="logo">
					<img alt="CNESST" src="../images/logo.png">
				</div>
			</div>
			<div class="col align-self-end">
				<nav class="top-menu" aria-label="Menu secondaire">
					<ul>
						<li class="tm-retour">
							<a href="../index.html" aria-label="Retour">
								<img alt="" src="../images/icone-cnesst-icone-fleche-retour.png">
								<p>Retour</p>
							</a>
						</li>
						<li class="tm-meDeconnecter">
							<a role="button" href="#" aria-label="Me déconnecter">
								<img alt="" src="../images/icone-cnesst-icone-connexion.png">
								<p>Me déconnecter</p>
							</a>
						</li>
					</ul>
				</nav>
			</div>
		</div>
		<div class="no-menu">
      <h1 role="presentation" id="naHeader">Demande de remboursement de frais</h1>
    </div>
    <div class="no-menu soustitre">
      <span>Médicaments, vêtements et autres frais</span>
    </div>
	</header>

	<main class="container">
   <form id="idForm">
<!-- Barre d'étape -->
		<ul class="nav nav-wizard">
			<li class="completed"><a href="1.html"><i>1</i></a></li>
			<li class="completed"><a href="2.html"><i>2</i></a></li>
			<li class="active"><a href="3.html"><i>3</i><span>Vêtements</span></a></li>
			<li><a href="4.html"><i>4</i></a></li>
			<li><a href="5.html"><i>5</i></a></li>
		</ul>
<!-- / Barre d'étape -->
		<div class="strong">
			<div class="mcl2" id="idform">

				<div class="step-info">
					<p class="number">3</p>
					<h2 aria-level="1">Vêtements</h2>
				</div>

				<div class="form-cont sp-xl">

					<div class="content">

						<div class="text sp-s">
							<p class="obligatoire"> Obligatoire</p>
						</div>


						<div class="box2">

							<div class="text control-group">

								<div class="radiobutton required inline sp-s">
								   <i id="naRG1">Avez-vous des frais de vêtements endommagés suite à l'événement?</i>
								   <div class="radiobuttons" role="group" aria-labelledby="naRG1">

										<label for="inp1" class="radiobutton">
										   <input id="inp1" data-show=".os-1-1" data-hide=".os-1" type="radio" name="mode">
										   <i>Oui</i>
										</label>

										<label for="inp2" class="radiobutton">
										   <input id="inp2" data-hide=".os-1" type="radio" name="mode">
										   <i>Non</i>
										</label>

								   </div>

								</div>


								<div class="os-1-1 os-1 hide">
									<p class="clarification">Les frais de vêtements doivent être regroupés par reçu.</p>
								</div>

							</div>


							<div class="hide os-1-1 os-1">
								<!--  multiblocks  Reçu -->
								<div class="multiblocks">
									<!--  sub-block Reçu  1 -->
									<div class="sub-block">
										<div class="header panel-heading-R">
											<h4 aria-level="3"><span class="number">1</span> - Reçu du <span class="date-icon"><input aria-label="date du reçu numéro 1" id="dateFrais-1" type="text" class="datepicker form-control dateFrais" value=""></span></h4>
											<!-- TODO : Ajuster le script pour afficher le bouton Supprimer sur le premier reçu s'il y a plus d'un reçu. -->
											<a role="button" href="#" class="btn4a btn-delete hide" aria-label="Supprimer ce reçu"><i class="icon-delete2"></i><span>Supprimer</span></a>
										</div>
										<div class="sub-cont">

											<div class="multiblocks">
												<div class="sub-block">
													<div class="header">
														<h4 aria-level="3">Vêtement <span class="number">1</span></h4>
														<!-- TODO : Ajuster le script pour afficher le bouton Supprimer sur le premier Vêtement s'il y a plus d'un vetement. -->
														<a role="button" href="#" class="btn4a btn-delete hide" aria-label="Supprimer ce vêtement"><i class="icon-delete2"></i><span>Supprimer</span></a>
													</div>
													<div class="sub-cont">

														<div class="control-group">
															<label for="inp3" class="obligatoire"> Description du vêtement <span class="naDetails">(Ex.: Salopette, pantalon.)</span></label>
															<input id="inp3" type="text" name="a">
														</div>

														<div class="radiobutton required inline sp-s">
														   <i id="naRG2c">Avez-vous du remplacer le vêtement?</i>
														   <div class="radiobuttons" role="group" aria-labelledby="naRG2c">

																<label for="inp4" class="radiobutton">
																   <input id="inp4" data-show="#os-2" type="radio" name="mode2">
																   <i>Oui</i>
																</label>

																<label for="inp5" class="radiobutton">
																   <input id="inp5" data-hide="#os-2" type="radio" name="mode2">
																   <i>Non</i>
																</label>

														   </div>
															 <div class="sous-question-montant control-group hide" id="os-2">
	 															<label for="inp6" class="obligatoire"> Montant <span class="naDetails">(avant taxes)</span><span class="hors-ecran"> obligatoire</span></label>
	 															<input id="inp6" type="text" name="a" class="amount"> $
	 														</div>
														</div>




														<div class="control-group">
															<label class="obligatoire"> Types de frais<span class="hors-ecran"> obligatoire</span></label>
															<label for="inp7" class="checkbox">
															   <input id="inp7" type="checkbox" name="mode8" value="create" data-show="#os-3" data-hide="#os-3">
															   <i>Nettoyage</i>
															</label>
															<div class="sous-question-montant control-group hide" id="os-3">
																<label for="inp8" class="obligatoire"> Montant <span class="naDetails">(avant taxes)</span><span class="hors-ecran"> obligatoire</span></label>
																<input id="inp8" type="text" name="a" class="amount"> $
															</div>
															<label for="inp9" class="checkbox">
															   <input id="inp9" type="checkbox" name="mode8" value="create" data-show="#os-4" data-hide="#os-4">
															   <i>Réparation</i>
															</label>
															<div class="sous-question-montant control-group hide" id="os-4">
																<label for="inp10" class="obligatoire"> Montant <span class="naDetails">(avant taxes)</span><span class="hors-ecran"> obligatoire</span></label>
																<input id="inp10" type="text" name="a" class="amount"> $
															</div>
														</div>


														<div class="radiobutton required sp-s">
														   <i id="naRG3">Raison des dommages causés au vêtement</i>
														   <div class="radiobuttons" role="group" aria-labelledby="naRG3">

																<label for="inp11" class="radiobutton">
																   <input id="inp11" type="radio" name="mode9">
																   <i>À la suite d'un accident de travail</i>
																</label>

																<label for="inp12" class="radiobutton">
																   <input id="inp12" type="radio" name="mode9">
																   <i>Par le port d'une prothèse ou d'une orthèse</i>
																</label>

														   </div>

														</div>


													</div>

												</div>

											</div>

											<div class="btns3">
												<a role="button" href="#" class="btn4 btn-add" data-block=".block-vêtement"><i class="icon-add"></i>
													<span>Ajouter un vêtement  <span class="dateFrais-1-span  naDetails hide"> sur le reçu du <span class="dateFrais-1-val"></span></span></span>
												</a>
											</div>

											<div class="control-group">
												<h4 id="naRG-4" class="obligatoire">Copie du reçu <span class="dateFrais-1-span  naDetails hide"> (<span class="dateFrais-1-val"></span>)</span><span class="hors-ecran"> obligatoire</span></h4>
												<p id="daRG-SG1-2b">Veuillez joindre une copie du reçu. (Document PDF, image, photo ou autre)</p>

												<div class="file" role="group" aria-labelledby="naRG-SG1-2" aria-describedby="daRG-SG1-2b">
  <!-- TODO modifier le style du label par JavScript au focus sur le bouton non visible -->
													<label for="inp13" class="file-btn"><i class="icon-attach"></i><span>Parcourir</span></label>
													<input id="inp13" type="file" name="file">
													<a role="button" href="#" id="inp-SG1-7b" aria-labelledby="inp-SG1-7b inp13" class="btn-remove" aria-label="Supprimer le document "><i class="icon-remove"></i></a>
													<div class="detail"><i class="icon-file"></i><span></span></div>
												</div>
											</div>

										</div>
									</div>
								</div>
								<!--  Autre reçu de vêtement -->
								<div class="btns3 autre control-group">

								<div class="autre text">
								<h3 class="hors-ecran">Autre reçu de vêtement</h3>
									<div class="radiobutton required inline">
										 <i id="naRG-AF">Avez-vous d'autre reçu de frais de vêtement?</i>
										 <div class="radiobuttons" role="group" aria-labelledby="naRG-AF">

											<label for="inp-AF-72" class="radiobutton">
												 <input id="inp-AF-72" data-show=".os-72-1" type="radio" name="mode">
												 <i>Oui</i>
											</label>

											<label for="inp-AF-73" class="radiobutton">
												 <input id="inp-AF-73" data-hide=".os-73" type="radio" name="mode">
												 <i>Non</i>
											</label>

										 </div>
									</div>
									<div class="hide os-72-1 os-73 sp-s">
										<p class="clarification">Vous pouvez ajouter un nouveau reçu ou dupliquer les informations du reçu précédent et les modifier au besoin.</p>
									</div>
								</div>
									<!--  / Autre reçu de vêtement -->
									<!-- Ajouter un reçu-->
											<a href="#" class="hide btn4 btn-add  os-72-1 os-73 pull-left" data-block=".block-recu"><i class="icon-add"></i><span>Ajouter un reçu</span></a>
											<a href="#" class="hide btn4 btn-add  os-72-1 os-73 pull-right" data-block=".block-recu"><i class="icon-add"></i><span>Dupliquer le reçu</span></a>
									</div>
									<!-- / Ajouter un reçu-->
							</div>


						</div>


					</div>

				</div>

			</div>
			<div class="btns">
				<a role="button" class="btn btn7" href="2.html">Précédent</a>
				<a role="button" class="btn btn3" href="4.html">Suivant</a>
			</div>
		</div>
		<div class="btns brouillons">
			<a role="button" href="#" class="btn btn4a"><i class="icon-save"></i> Enregistrer en brouillon</a>
			<a role="button" href="#" class="btn btn4a"><i class="icon-delete"></i> Supprimer le brouillon</a>
		</div>
	 </form>
 </main>


	<div class="block-vêtement hide">

		<div class="sub-block">
			<div class="header">
				<h4 aria-level="3">Vêtement <span class="number">1</span> </h4>
				<a role="button" href="#" class="btn4a btn-delete" aria-label="Supprimer ce vêtement"><i class="icon-delete2"></i><span>Supprimer</span></a>
			</div>
			<div class="sub-cont">


				<div class="control-group">
					<label for="inp14" class="obligatoire"> Description du vêtement <span class="naDetails">(Ex.: Salopette, pantalon.)</span><span class="hors-ecran"> obligatoire</span></label>
					<input id="inp14" type="text" name="a">
				</div>

				<div class="radiobutton required inline sp-s">
				   <i id="naRG6">Avez-vous du remplacer le vêtement?</i>
				   <div class="radiobuttons" role="group" aria-labelledby="naRG6">

						<label for="inp15" class="radiobutton">
						   <input id="inp15" data-show="#os-_N_-2" type="radio" name="mode2">
						   <i>Oui</i>
						</label>

						<label for="inp16" class="radiobutton">
						   <input id="inp16" data-hide="#os-_N_-2" type="radio" name="mode2">
						   <i>Non</i>
						</label>

				   </div>
					 <div class="sous-question-montant control-group hide" id="os-_N_-2">
	 					<label for="inp17" class="obligatoire"> Montant <span class="naDetails">(avant taxes)</span><span class="hors-ecran"> obligatoire</span></label>
	 					<input id="inp17" type="text" name="a" class="amount"> $
	 				</div>
				</div>




				<div class="control-group" role="group" aria-labelledby="naRG-1">
					<i id="naRG-1" class="obligatoire"> Types de frais<span class="hors-ecran"> obligatoire</span></i>
					<label for="inp18" class="checkbox">
					   <input id="inp18" type="checkbox" name="mode8" value="create" data-show="#os-_N_-3" data-hide="#os-_N_-3">
					   <i>Nettoyage</i>
					</label>
					<div class="sub-box control-group hide" id="os-_N_-3">
						<label for="inp19" class="obligatoire"> Montant <span class="naDetails">(avant taxes)</span><span class="hors-ecran"> obligatoire</span></label>
						<input id="inp19" type="text" name="a" class="amount"> $
					</div>
					<label for="inp20" class="checkbox">
					   <input id="inp20" type="checkbox" name="mode8" value="create" data-show="#os-_N_-4" data-hide="#os-_N_-4">
					   <i>Réparation</i>
					</label>
					<div class="sous-question-montant control-group hide" id="os-_N_-4">
						<label for="inp21" class="obligatoire"> Montant <span class="naDetails">(avant taxes)</span><span class="hors-ecran"> obligatoire</span></label>
						<input id="inp21" type="text" name="a" class="amount"> $
					</div>
				</div>


				<!-- G -->
				<div class="radiobutton required">
				   <i id="naRG7">Raison des dommages causés au vêtement</i>
				   <div class="radiobuttons" role="group" aria-labelledby="naRG7">

						<label for="inp22" class="radiobutton">
						   <input id="inp22" type="radio" name="mode9">
						   <i>À la suite d'un accident de travail</i>
						</label>

						<label for="inp23" class="radiobutton">
						   <input id="inp23" type="radio" name="mode9">
						   <i>Par le port d'une prothèse ou d'une orthèse</i>
						</label>

				   </div>

				</div>
				<!-- /G -->


			</div>
		</div>

	</div>

	<div class="block-recu hide">

		<div class="sub-block">
			<div class="header panel-heading-R">
				<h4 aria-level="3"><span class="number">2</span> - Reçu du <span class="date-icon"><input aria-label="date du reçu numéro 2" id="dateFrais-2" type="text" class="datepicker form-control dateFrais" value=""></span></h4>
				<a role="button" href="#" class="btn4a btn-delete" aria-label="Supprimer ce reçu"><i class="icon-delete2"></i><span>Supprimer</span></a>
			</div>
			<div class="sub-cont">

				<div class="multiblocks">
					<div class="sub-block">
						<div class="header">
							<h4 aria-level="3">Vêtement <span class="number">1</span></h4>
						</div>
						<div class="sub-cont">

							<div class="control-group">
								<label for="inp24" class="obligatoire"> Description du vêtement<span class="naDetails">(Ex.: Salopette, pantalon.)</span><span class="hors-ecran"> obligatoire</span></label>
								<input id="inp24" type="text" name="a">
							</div>

							<div class="radiobutton required inline sp-s">
							   <i id="naRG2">Avez-vous du remplacer le vêtement?</i>
							   <p class="clarification">(Prescriptions, compléments d'information)</p>
							   <div class="radiobuttons" role="group" aria-labelledby="naRG2">

									<label for="inp25" class="radiobutton">
									   <input id="inp25" data-show="#os-_N_-2" type="radio" name="mode2">
									   <i>Oui</i>
									</label>

									<label for="inp26" class="radiobutton">
									   <input id="inp26" data-hide="#os-_N_-2" type="radio" name="mode2">
									   <i>Non</i>
									</label>

							   </div>
								 <div class="sous-question-montant control-group hide" id="os-_N_-3c">
	 								<label for="inp27" class="obligatoire"> Montant <span class="naDetails">(avant taxes)</span><span class="hors-ecran"> obligatoire</span></label>
	 								<input id="inp27" type="text" name="a" class="amount"> $
	 							</div>
							</div>




							<div class="control-group">
								<label class="obligatoire"> Types de frais<span class="hors-ecran"> obligatoire</span></label>
								<label for="inp28" class="checkbox">
								   <input id="inp28" type="checkbox" name="mode8" value="create" data-show="#os-_N_-3" data-hide="#os-_N_-3">
								   <i>Nettoyage</i>
								</label>
								<div class="sous-question-montant control-group hide" id="os-_N_-3b">
									<label for="inp29" class="obligatoire"> Montant <span class="naDetails">(avant taxes)</span><span class="hors-ecran"> obligatoire</span></label>
									<input id="inp29" type="text" name="a" class="amount"> $
								</div>
								<label for="inp30" class="checkbox">
								   <input id="inp30" type="checkbox" name="mode8" value="create" data-show="#os-_N_-4" data-hide="#os-_N_-4">
								   <i>Réparation</i>
								</label>
								<div class="sous-question-montant control-group hide" id="os-_N_-4b">
									<label for="inp31" class="obligatoire"> Montant <span class="naDetails">(avant taxes)</span><span class="hors-ecran"> obligatoire</span></label>
									<input id="inp31" type="text" name="a" class="amount"> $
								</div>
							</div>


							<div class="radiobutton required sp-s">
							   <i id="naRG2b">Raison des dommages causés au vêtement</i>
							   <div class="radiobuttons" role="group" aria-labelledby="naRG2b">

									<label for="inp32" class="radiobutton">
									   <input id="inp32" type="radio" name="mode9">
									   <i>À la suite d'un accident de travail</i>
									</label>

									<label for="inp33" class="radiobutton">
									   <input id="inp33" type="radio" name="mode9">
									   <i>Par le port d'une prothèse ou d'une orthèse</i>
									</label>

							   </div>

							</div>


						</div>

					</div>

				</div>

				<div class="btns3">
					<a role="button" href="#" class="btn4 btn-add" data-block=".block-vêtement"><i class="icon-add"></i><span>Ajouter un vêtement
						 <span class="dateFrais-2-span  naDetails hide"> sur le reçu du <span class="dateFrais-2-val"></span></span></span></a>
				</div>

				<div class="control-group">
					<h4 id="naRG-SG1-2" class="obligatoire">Copie du reçu  <span class="dateFrais-2-span  naDetails hide"> (<span class="dateFrais-2-val"></span>)</span><span class="hors-ecran"> obligatoire</span></h4>
					<p id="daRG-SG1-2">Veuillez joindre une copie du reçu. (Document PDF, image, photo ou autre)</p>

					<div class="file" role="group" aria-labelledby="naRG-SG1-2" aria-describedby="daRG-SG1-2">
  <!-- TODO modifier le style du label par JavScript au focus sur le bouton non visible -->
						<label for="inp34" class="file-btn"><i class="icon-attach"></i><span>Parcourir</span></label>
						<input id="inp34" type="file" name="file">
						<a role="button" href="#" id="inp-SG1-7c" aria-labelledby="inp-SG1-7c inp34" class="btn-remove" aria-label="Supprimer le document "><i class="icon-remove"></i></a>
						<div class="detail"><i class="icon-file"></i><span></span></div>
					</div>
				</div>



			</div>
		</div>

	</div>

	<footer class="container footer">
		<div class="row no-gutters">
			<div class="col">
				<ul class="footer-menu">
					<li><a href="#">Accessibilité</a></li>
					<li><a href="#">Politique de confidentialité</a></li>
				</ul>
			</div>
			<div class="col right">
				<span>Renseignements généraux : </span>
				<span><a href="tel:18448380808">1 844 838-0808</a></span>
				<img alt="CNESST" src="../images/logo_footer.png">
			</div>
		</div>
		<div class="row no-gutters bottom">
			&copy; CNESST, 2017
		</div>

	</footer>

	<!-- script

	<script src="http://instynctdemo.com/cnesst/js/jquery.min.js"></script>
	<script src="http://instynctdemo.com/cnesst/js/dp/bootstrap-datepicker.min.js"></script>
	<script src="http://instynctdemo.com/cnesst/js/dp/bootstrap-datepicker.fr.min.js"></script>
	<script src="http://instynctdemo.com/cnesst/js/jquery.qtip.min.js"></script>-->

	<script src="../js/jquery.min.js"></script>
	<script src="../js/dp/bootstrap-datepicker.min.js"></script>
	<script src="../js/dp/bootstrap-datepicker.fr.min.js"></script>
	<script src="../js/jquery.qtip.min.js"></script>

	<script>
		$(document).ready(function() {
  $('#idForm')[0].reset();

	function idx(id,x) {
	        var t = id.split("-");
	        var prefixe= t[0];
	        var index= t[t.length-1];
	        var inpText = prefixe+"-"+index;
	        var valeur = $( "#"+inpText ).val();
	        var idCible = prefixe+"-"+index+"-val";
	        var valeurCible = $( "#"+idCible ).val();

	       var a=0;

	        switch (x) {
	          case 1:
	              /*Retourne la valeur de l'index avant le premier séparateur (_)*/
	              a = prefixe;
	              break;
	          case 2:
	               /*Retourne la valeur de l'index après le dernier séparateur (_)*/
	              a = index;
	              break;
	          case 3:
	              /*Retourne le id de du champ dont on veut la valeur*/
	              a = inpText;
	              break;
	          case 4:
	              /*Retourne le valeur du champ texte dont on veut la valeur*/
	              a = valeur;
	              break;
	          case 5:
	              /*Retourne le id de du champ dont on veut modifier la valeur*/
	              a = idCible;
	              break;
	          case 6:
	              /*Retourne la valeur actuel du champ dont on veut modifier la valeur*/
	              a = valeurCible;
	              break;
	          default:
	             a = 0;
	      }
	        return a;
	      }



	/********** date de frais ***********/

	$( ".dateFrais" ).on('blur',function() {
	    /* Récupérer le no du id (-x) */
	    var id = $( this ).attr("id");
	    var value = $( this ).val();
	    var no = idx(id,2);

	    var date = value.split("-");
	    var annee= date[0];
	    var mois= date[1];
	    var jour= date[2];

	    var d = new Date();
	    var a = d.getFullYear();
	    var m = 1+d.getMonth();
	    var j = d.getDate();

	    if (!value){
	      /* Si la date est égale ou inférieur à la date du jour, afficher la date dans les zones approprié  */
	      $( ".dateFrais-"+no+"-span" ).addClass( "hide" );
	    } else if (annee < a || (annee == a && mois <= m && jour <= j)){
	      $( ".dateFrais-"+no+"-span" ).removeClass( "hide" );
	      $( ".dateFrais-"+no+"-val" ).text(value);
	    } else {
	      $( ".dateFrais-"+no+"-span" ).addClass( "hide" );
	    }

	  }).keyup();
	/********** / date de frais ***********/

			$('body').on('focus',".datepicker", function(){

			    if( $(this).hasClass('hasDatepicker') === false )  {
			        $(this).addClass('hasDatepicker').datepicker({
						format: "yyyy-mm-dd",
		    			language: 'fr'
					});
			    }

			});

			$('body').on('change', '[type="file"]', function() {

		        var filename = $(this).val();
		        var $file = $(this).parents('.file');

		        if (filename.length == 0){
		        	$file.removeClass('active');
		        }else{
		        	$file.addClass('active');
		        }
		        $file.find('.detail span').html(filename);

		    }).on('click', function(event) {
		    	event.stopPropagation();
		    });;


			$('body').on('click', '.file .file-btn', function(event) {
				event.preventDefault();
		        var $file = $(this).parents('.file');

				$file.find('[type="file"]').trigger('click');

			});

			$('body').on('click', '.file .btn-remove', function(event) {
				event.preventDefault();

				$(this).parents('.file').removeClass('active').find('[type="file"]').val('');

			});


			$('.multiblocks').on('click', '.sub-block a.btn-delete', function(event) {
				event.preventDefault();
				var $multiblocks = $(this).parents('.multiblocks').eq(0);

				$(this).parents('.sub-block').eq(0).remove();

				$multiblocks.find('> .sub-block').each(function(index, el) {
					$(this).find('> .header span.number').text(index+1);
				});
			});

			var cont = 10;

			$('body').on('click', 'a.btn-add', function(event) {
				event.preventDefault();


				var $block = $(this).data('block');

				if  ( typeof $block === "undefined" || $block == null ){
					$block = $('.block-example');
				}else{
					$block = $($block);
				}

				var html = $block.html();

				console.log(html);

				html_r = html.split('_N_').join(cont++);

				$(this).parent().prev('.multiblocks').append(html_r).find('> .sub-block').each(function(index, el) {
					$(this).find('> .header span.number').text(index+1);
				});
			});


		    $("body").on('keydown', '.amount', function (e) {
		        // Allow: backspace, delete, tab, escape, enter and .
		        if ($.inArray(e.keyCode, [46, 8, 9, 27, 13, 110, 190]) !== -1 ||
		             // Allow: Ctrl/cmd+A
		            (e.keyCode == 65 && (e.ctrlKey === true || e.metaKey === true)) ||
		             // Allow: Ctrl/cmd+C
		            (e.keyCode == 67 && (e.ctrlKey === true || e.metaKey === true)) ||
		             // Allow: Ctrl/cmd+X
		            (e.keyCode == 88 && (e.ctrlKey === true || e.metaKey === true)) ||
		             // Allow: home, end, left, right
		            (e.keyCode >= 35 && e.keyCode <= 39)) {
		                 // let it happen, don't do anything
		                 return;
		        }
		        // Ensure that it is a number and stop the keypress
		        if ((e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && (e.keyCode < 96 || e.keyCode > 105)) {
		            e.preventDefault();
		        }
		    });


		    $('[title!=""]').qtip({
		    	content: {
		    		button: true
		    	},
			    show: {
			        event: 'click',

			    },
			    hide: {
			        event: 'click'
			    }
		    });

			$('.hasTooltip').each(function() { // Notice the .each() loop, discussed below
			    $(this).qtip({
			    	content: {
			    		button: true,
			            text: $(this).next('div').html() // Use the "div" element next to this for the content
			    	},
				    show: {
				        event: 'click',

				    },
				    hide: {
				        event: 'click'
				    }
			    });
			});


		    $('body').on('click', '[data-hide]', function(event) {
		    	event.stopPropagation();

		    	$($(this).data('hide')).addClass('hide');

		    	// $($(this).data('hide')).find('input[type="radio"]').prop('checked', false);
		    	$($(this).data('hide')).each(function(index, el) {
		    		// $(el).find('input[type="radio"]').eq(0).trigger('click');
		    		$(el).find('input[type="radio"]').prop('checked', false);
		    		$(el).find('input[type="checkbox"]').prop('checked', false);
		    	});
		    });

		    $('body').on('click', '[data-show]', function(event) {
		    	event.stopPropagation();

		    	if ( typeof $(this).prop('checked') === 'undefined' || $(this).prop('checked') )
		    		$($(this).data('show')).removeClass('hide');
		    });

		    $('[data-characters!=""]').keyup(function(){
		        var text = $(this).val();
		        var maxlength = $(this).data('characters');

		        if(maxlength > 0) {
		                $(this).val(text.substr(0, maxlength));
		        }
			});

		});
	</script>

</body>
</html>
